{"version":3,"sources":["../../../api/server/controllers/piccontroller.js"],"names":["util","Util","piccontroller","req","res","pestid","params","Number","setError","send","picservice","getPicById","theImage","setSuccess"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,IAAI,GAAC,IAAIC,iBAAJ,EAAX;;IAEMC,a;;;;;;;;;;;;oDAEsBC,G,EAAIC,G;;;;;;AACvBC,gBAAAA,M,GAAQF,GAAG,CAACG,M,CAAZD,M;;oBAEHE,MAAM,CAACF,MAAD,C;;;;;AACTL,gBAAAA,IAAI,CAACQ,QAAL,CAAc,GAAd,EAAkB,2BAAlB;iDACOR,IAAI,CAACS,IAAL,CAAUL,GAAV,C;;;;;uBAIcM,uBAAWC,UAAX,CAAsBN,MAAtB,C;;;AAAfO,gBAAAA,Q;;AAEN,oBAAG,CAACA,QAAJ,EAAa;AACZZ,kBAAAA,IAAI,CAACQ,QAAL,CAAc,GAAd,sCAA+CH,MAA/C;AACA,iBAFD,MAEK;AACJL,kBAAAA,IAAI,CAACa,UAAL,CAAgB,GAAhB,EAAoB,gBAApB,EAAqCD,QAArC;AACA;;iDACMZ,IAAI,CAACS,IAAL,CAAUL,GAAV,C;;;;;AAEPJ,gBAAAA,IAAI,CAACQ,QAAL,CAAc,GAAd;iDACOR,IAAI,CAACS,IAAL,CAAUL,GAAV,C;;;;;;;;;;;;;;;;;;;;eAOKF,a","sourcesContent":["import picservice from '../services/picservice';\r\nimport Util from '../utils/Utils';\r\n\r\nconst util=new Util();\r\n\r\nclass piccontroller{\r\n\t\r\n    static async getPicById(req,res){\r\n\t\tconst {pestid}=req.params;\r\n\r\n\t\tif(!Number(pestid)){\r\n\t\t\tutil.setError(404,'Please input valid pestid');\r\n\t\t\treturn util.send(res);\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\t\tconst theImage=await picservice.getPicById(pestid);\r\n\r\n\t\t\tif(!theImage){\r\n\t\t\t\tutil.setError(404,`cannot find image with id ${pestid}`);\r\n\t\t\t}else{\r\n\t\t\t\tutil.setSuccess(200,'Found the Pest',theImage);\r\n\t\t\t}\r\n\t\t\treturn util.send(res);\r\n\t\t}catch(error){\r\n\t\t\tutil.setError(404,error);\r\n\t\t\treturn util.send(res);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n}\r\n\r\nexport default piccontroller;\r\n"],"file":"piccontroller.js"}