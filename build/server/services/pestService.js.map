{"version":3,"sources":["../../../api/server/services/pestService.js"],"names":["pestService","database","pests","findAll","newPest","create","id","updatePest","findOne","where","Number","pestToUpdate","update","thePest","pestToDelete","destroy","deteledPest","deletePest","name","attributes","cat","category"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;IAEMA,W;;;;;;;;;;;;;;;;;;;uBAGUC,mBAASC,KAAT,CAAeC,OAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMMC,O;;;;;;;uBAENH,mBAASC,KAAT,CAAeG,MAAf,CAAsBD,OAAtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAOSE,E,EAAGC,W;;;;;;;;uBAEAN,mBAASC,KAAT,CAAeM,OAAf,CAAuB;AAC/CC,kBAAAA,KAAK,EAAE;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADwC,iBAAvB,C;;;AAAnBK,gBAAAA,Y;;qBAGHA,Y;;;;;;uBACIV,mBAASC,KAAT,CAAeU,MAAf,CAAsBL,WAAtB,EAAiC;AAACE,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAACI,MAAM,CAACJ,EAAD;AAAV;AAAP,iBAAjC,C;;;kDACCC,W;;;kDAED,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMaD,E;;;;;;;;uBAEAL,mBAASC,KAAT,CAAeM,OAAf,CAAuB;AAC1CC,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADoC,iBAAvB,C;;;AAAdO,gBAAAA,O;kDAGCA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMeP,E;;;;;;;;uBAEIL,mBAASC,KAAT,CAAeM,OAAf,CAAuB;AAACC,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAACI,MAAM,CAACJ,EAAD;AAAV;AAAP,iBAAvB,C;;;AAApBQ,gBAAAA,Y;;qBACHA,Y;;;;;;uBACuBb,mBAASC,KAAT,CAAea,OAAf,CAAuB;AAC/CN,kBAAAA,KAAK,EAAE;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADwC,iBAAvB,C;;;AAAnBU,gBAAAA,W;kDAGCC,U;;;kDAED,I;;;;;;;;;;;;;;;;;;;;;;;;qDAOeC,I;;;;;;;;uBAEDjB,mBAASC,KAAT,CAAeM,OAAf,CAAuB;AAC1CC,kBAAAA,KAAK,EAAC;AAACS,oBAAAA,IAAI,EAAEA;AAAP;AADoC,iBAAvB,C;;;AAAdL,gBAAAA,O;kDAGCA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAQKZ,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACnCgB,kBAAAA,UAAU,EAAE,CAAC,IAAD,EAAM,MAAN,EAAa,gBAAb,EAA8B,gBAA9B,EAA+C,MAA/C,EAAsD,UAAtD,EAAiE,eAAjE;AADuB,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAQOC,G;;;;;;;uBAEPnB,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACnCM,kBAAAA,KAAK,EAAC;AAACY,oBAAAA,QAAQ,EAACD;AAAV,mBAD6B;AAEnCD,kBAAAA,UAAU,EAAE,CAAC,IAAD,EAAM,MAAN,EAAa,eAAb;AAFuB,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAUDnB,W","sourcesContent":["import database from '../src/models';\r\n\r\nclass pestService{\r\n\tstatic async getAllPests(){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll();\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async addPest(newPest){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.create(newPest);\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tstatic async updatePest(id,updatePest){\r\n\t\ttry{\r\n\t\t\tconst pestToUpdate=await database.pests.findOne({\r\n\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t});\r\n\t\t\tif(pestToUpdate){\r\n\t\t\t\tawait database.pests.update(updatePest,{where:{id:Number(id)}});\r\n\t\t\t\treturn updatePest;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async getAPest(id){\r\n\t\ttry{\r\n\t\t\tconst thePest=await database.pests.findOne({\r\n\t\t\t\twhere:{id: Number(id)}\r\n\t\t\t});\r\n\t\t\treturn thePest;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async deletePest(id){\r\n\t\ttry{\r\n\t\t\tconst pestToDelete= await database.pests.findOne({where:{id:Number(id)}});\r\n\t\t\tif(pestToDelete){\r\n\t\t\t\tconst deteledPest= await database.pests.destroy({\r\n\t\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t\t});\r\n\t\t\t\treturn deletePest;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tstatic async searchPest(name){\r\n\t\ttry{\r\n\t\t\t\tconst thePest=await database.pests.findOne({\r\n\t\t\t\t\twhere:{name: name}\r\n\t\t\t\t});\r\n\t\t\t\treturn thePest;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async pestGist(){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll({\r\n\t\t\t\tattributes: ['id','name','scientificname','casualorganism','host','category','status_bhutan']\r\n\t\t\t});\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async category(cat){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll({\r\n\t\t\t\twhere:{category:cat},\r\n\t\t\t\tattributes: ['id','name','status_bhutan']\r\n\t\t\t});\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default pestService;\r\n"],"file":"pestService.js"}