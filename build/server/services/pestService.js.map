{"version":3,"sources":["../../../api/server/services/pestService.js"],"names":["pestService","database","pests","findAll","newPest","console","log","create","id","updatePest","findOne","where","Number","pestToUpdate","update","thePest","pestToDelete","destroy","deteledPest","name","attributes","cat","category"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;IAEMA,W;;;;;;;;;;;;;;;;;;;uBAGUC,mBAASC,KAAT,CAAeC,OAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMMC,O;;;;;;AAEnBC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;uBACaH,mBAASC,KAAT,CAAeK,MAAf,CAAsBH,OAAtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAOSI,E,EAAGC,W;;;;;;;;uBAEAR,mBAASC,KAAT,CAAeQ,OAAf,CAAuB;AAC/CC,kBAAAA,KAAK,EAAE;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADwC,iBAAvB,C;;;AAAnBK,gBAAAA,Y;;qBAGHA,Y;;;;;;uBACIZ,mBAASC,KAAT,CAAeY,MAAf,CAAsBL,WAAtB,EAAiC;AAACE,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAACI,MAAM,CAACJ,EAAD;AAAV;AAAP,iBAAjC,C;;;kDACCC,W;;;kDAED,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMaD,E;;;;;;;;uBAEAP,mBAASC,KAAT,CAAeQ,OAAf,CAAuB;AAC1CC,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADoC,iBAAvB,C;;;AAAdO,gBAAAA,O;kDAGCA,O;;;;;;;;;;;;;;;;;;;;;;;;;;qDAMeP,E;;;;;;;;uBAEIP,mBAASC,KAAT,CAAeQ,OAAf,CAAuB;AAACC,kBAAAA,KAAK,EAAC;AAACH,oBAAAA,EAAE,EAACI,MAAM,CAACJ,EAAD;AAAV;AAAP,iBAAvB,C;;;AAApBQ,gBAAAA,Y;;qBACHA,Y;;;;;;uBACuBf,mBAASC,KAAT,CAAee,OAAf,CAAuB;AAC/CN,kBAAAA,KAAK,EAAE;AAACH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAX;AADwC,iBAAvB,C;;;AAAnBU,gBAAAA,W;kDAGCA,W;;;kDAED,I;;;;;;;;;;;;;;;;;;;;;;;;;;qDAOeC,I;;;;;;;;uBAEDlB,mBAASC,KAAT,CAAeQ,OAAf,CAAuB;AAC1CC,kBAAAA,KAAK,EAAC;AAACQ,oBAAAA,IAAI,EAAEA;AAAP;AADoC,iBAAvB,C;;;AAAdJ,gBAAAA,O;kDAGCA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAQKd,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACnCiB,kBAAAA,UAAU,EAAE,CAAC,IAAD,EAAM,MAAN,EAAa,gBAAb,EAA8B,gBAA9B,EAA+C,MAA/C,EAAsD,UAAtD,EAAiE,eAAjE;AADuB,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAQOC,G;;;;;;;uBAEPpB,mBAASC,KAAT,CAAeC,OAAf,CAAuB;AACnCQ,kBAAAA,KAAK,EAAC;AAACW,oBAAAA,QAAQ,EAACD;AAAV,mBAD6B;AAEnCD,kBAAAA,UAAU,EAAE,CAAC,IAAD,EAAM,MAAN,EAAa,eAAb;AAFuB,iBAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAUDpB,W","sourcesContent":["import database from '../src/models';\r\n\r\nclass pestService{\r\n\tstatic async getAllPests(){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll();\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async addPest(newPest){\r\n\t\ttry{\r\n\t\t\tconsole.log(newPest)\r\n\t\t\treturn await database.pests.create(newPest);\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tstatic async updatePest(id,updatePest){\r\n\t\ttry{\r\n\t\t\tconst pestToUpdate=await database.pests.findOne({\r\n\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t});\r\n\t\t\tif(pestToUpdate){\r\n\t\t\t\tawait database.pests.update(updatePest,{where:{id:Number(id)}});\r\n\t\t\t\treturn updatePest;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async getAPest(id){\r\n\t\ttry{\r\n\t\t\tconst thePest=await database.pests.findOne({\r\n\t\t\t\twhere:{id: Number(id)}\r\n\t\t\t});\r\n\t\t\treturn thePest;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async deletePest(id){\r\n\t\ttry{\r\n\t\t\tconst pestToDelete= await database.pests.findOne({where:{id:Number(id)}});\r\n\t\t\tif(pestToDelete){\r\n\t\t\t\tconst deteledPest= await database.pests.destroy({\r\n\t\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t\t});\r\n\t\t\t\treturn deteledPest;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tstatic async searchPest(name){\r\n\t\ttry{\r\n\t\t\t\tconst thePest=await database.pests.findOne({\r\n\t\t\t\t\twhere:{name: name}\r\n\t\t\t\t});\r\n\t\t\t\treturn thePest;\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async pestGist(){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll({\r\n\t\t\t\tattributes: ['id','name','scientificname','casualorganism','host','category','status_bhutan']\r\n\t\t\t});\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async category(cat){\r\n\t\ttry{\r\n\t\t\treturn await database.pests.findAll({\r\n\t\t\t\twhere:{category:cat},\r\n\t\t\t\tattributes: ['id','name','status_bhutan']\r\n\t\t\t});\r\n\t\t}catch(error){\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default pestService;\r\n"],"file":"pestService.js"}